@use "../utils";

input:not([id^="acf-"]),
textarea:not([id^="acf-"]) {
	transition: var(--wp--custom--effects--transition);
	border-radius: var(--wp--custom--border--radius);
	border-color: var(--wp--custom--border--color);
	border-style: var(--wp--custom--border--style);
	border-width: var(--wp--custom--border--width);
	padding-top: var(--wp--custom--button--spacing--padding--top);
	padding-right: var(--wp--custom--button--spacing--padding--right);
	padding-bottom: var(--wp--custom--button--spacing--padding--bottom);
	padding-left: var(--wp--custom--button--spacing--padding--left);
	&:focus {
		outline: var(--wp--custom--forms--focus--outline);
		border-radius: var(--wp--custom--border--focus--radius);
		border-color: var(--wp--custom--border--focus--color);
		border-style: var(--wp--custom--border--focus--style);
		border-width: var(--wp--custom--border--focus--width);
	}
}

input[type="checkbox"]:not([id^="acf-"]),
input[type="radio"]:not([id^="acf-"]) {
	accent-color: var(--wp--preset--color--foreground);
}

/// Accessible pseudo checkboxes with a focus state
input[type="checkbox"]:not([id^="acf-"]) {
	position: absolute;
	margin: 0 !important;
	padding: 0 !important;
	opacity: 0;
	height: 0;
	width: 0;
	pointer-events: none;
	& + label {
		position: relative;
		cursor: pointer;
		display: flex;
		line-height: 1.6;
		&::before {
			content: "";
			flex-shrink: 0;
			top: calc((1em * 1.6 - 20px) / 2);
			position: relative;
			display: inline-block;
			margin-right: 10px;
			width: 20px;
			height: 20px;
			background: transparent;
			border-radius: var(--wp--custom--border--radius);
			border-color: var(--wp--custom--border--color);
			border-style: var(--wp--custom--border--style);
			border-width: var(--wp--custom--border--width);
		}
	}
	&:checked {
		& + label {
			&::before {
				background: var(--wp--custom--border--color);
			}
			&::after {
				content: "";
				position: absolute;
				top: 10px;
				left: 4px;
				border-left: var(--wp--custom--border--width) solid var(--wp--preset--color--background);
				border-bottom: var(--wp--custom--border--width) solid var(--wp--preset--color--background);
				height: 6px;
				width: 13px;
				transform: rotate(-45deg);
			}
		}
	}
	&:focus,
	&:focus-visible {
		& + label {
			&:before {
				outline: var(--wp--preset--color--background) solid var(--wp--custom--border--width);
				box-shadow: 1px 1px 8px var(--wp--preset--color--secondary);
			}
		}
	}
	&:disabled {
		& + label {
			&::before {
				@supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {
					backdrop-filter: brightness(0.95);
				}
				border-color: transparent;
			}
		}
	}
}

/// Accessible pseudo radio buttons with a focus state
input[type="radio"]:not([id^="acf-"]) {
	position: absolute;
	margin: 0 !important;
	padding: 0 !important;
	opacity: 0;
	height: 0;
	width: 0;
	pointer-events: none;
	& + label {
		position: relative;
		cursor: pointer;
		display: flex;
		line-height: 1.6;
		&::before {
			content: "";
			flex-shrink: 0;
			top: calc((1em * 1.6 - 20px) / 2);
			position: relative;
			display: inline-block;
			margin-right: 10px;
			width: 20px;
			height: 20px;
			background: transparent;
			border-radius: 50%;
			border-color: var(--wp--custom--border--color);
			border-style: var(--wp--custom--border--style);
			border-width: var(--wp--custom--border--width);
		}
	}
	&:checked {
		& + label {
			&::before {
				background: var(--wp--custom--border--color);
			}
			&::after {
				content: "";
				position: absolute;
				top: 9px;
				@include utils.breakpoint(md) {
					top: 10px;
				}
				left: 5px;
				background-color: var(--wp--preset--color--background);
				border-radius: 50%;
				height: 10px;
				width: 10px;
			}
		}
	}
	&:focus,
	&:focus-visible {
		& + label {
			&:before {
				outline: var(--wp--preset--color--background) solid var(--wp--custom--border--width);
				box-shadow: 1px 1px 8px var(--wp--preset--color--secondary);
			}
		}
	}
	&:disabled {
		& + label {
			&::before {
				@supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {
					backdrop-filter: brightness(0.95);
				}
				border-color: transparent;
			}
		}
	}
}

input[type="submit"],
input[type="reset"],
input[type="button"],
button:not(.components-button):not(.link-button):not(.sub-menu-toggle):not(.wp-block-navigation-submenu__toggle):not(
		[id^="mceu"]
	) {
	background-color: var(--wp--custom--button--color--background);
	border-radius: var(--wp--custom--button--border--radius);
	border-color: var(--wp--custom--button--border--color);
	border-width: var(--wp--custom--button--border--width);
	color: var(--wp--custom--button--color--text);
	padding-top: var(--wp--custom--button--spacing--padding--top);
	padding-right: var(--wp--custom--button--spacing--padding--right);
	padding-bottom: var(--wp--custom--button--spacing--padding--bottom);
	padding-left: var(--wp--custom--button--spacing--padding--left);
	&:hover {
		background-color: var(--wp--custom--button--hover--color--background);
		color: var(--wp--custom--button--hover--color--text);
	}
	&:focus {
		background-color: var(--wp--custom--button--focus--color--background);
		color: var(--wp--custom--button--focus--color--text);
		border-color: var(--wp--custom--button--focus--border--color);
	}
}
